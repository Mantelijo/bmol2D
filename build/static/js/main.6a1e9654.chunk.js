(this.webpackJsonpbmol2d=this.webpackJsonpbmol2d||[]).push([[0],{147:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){"use strict";n.r(t);var i,r=n(1),a=n.n(r),o=n(56),c=n.n(o),s=(n(147),n(13)),u=n(58),l=n(8),h=n(2),d=n(5),f=n(6),m=function(){function e(t,n,i){Object(d.a)(this,e),this.x=t,this.y=n,this.z=i,this.x=t||0,this.y=n||0,this.z=i||0}return Object(f.a)(e,[{key:"negative",value:function(){return new e(-this.x,-this.y,-this.z)}},{key:"add",value:function(t){return t instanceof e?new e(this.x+t.x,this.y+t.y,this.z+t.z):new e(this.x+t,this.y+t,this.z+t)}},{key:"subtract",value:function(t){return t instanceof e?new e(this.x-t.x,this.y-t.y,this.z-t.z):new e(this.x-t,this.y-t,this.z-t)}},{key:"multiply",value:function(t){return t instanceof e?new e(this.x*t.x,this.y*t.y,this.z*t.z):new e(this.x*t,this.y*t,this.z*t)}},{key:"divide",value:function(t){return t instanceof e?new e(this.x/t.x,this.y/t.y,this.z/t.z):new e(this.x/t,this.y/t,this.z/t)}},{key:"equals",value:function(e){return this.x==e.x&&this.y==e.y&&this.z==e.z}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"cross",value:function(t){return new e(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}},{key:"length",value:function(){return Math.sqrt(this.dot(this))}},{key:"magnitude",value:function(){return this.length()}},{key:"unit",value:function(){return this.divide(this.length())}},{key:"min",value:function(){return Math.min(Math.min(this.x,this.y),this.z)}},{key:"max",value:function(){return Math.max(Math.max(this.x,this.y),this.z)}},{key:"toAngles",value:function(){return{theta:Math.atan2(this.z,this.x),phi:Math.asin(this.y/this.length())}}},{key:"angleTo",value:function(e){return Math.acos(this.dot(e)/(this.length()*e.length()))}},{key:"toArray",value:function(e){return[this.x,this.y,this.z].slice(0,e||3)}},{key:"clone",value:function(){return new e(this.x,this.y,this.z)}},{key:"init",value:function(e,t,n){return this.x=e,this.y=t,this.z=n,this}},{key:"normalize",value:function(){return this.unit()}}],[{key:"negative",value:function(e,t,n){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t}},{key:"add",value:function(t,n,i){return n instanceof e?(i.x=t.x+n.x,i.y=t.y+n.y,i.z=t.z+n.z):(i.x=t.x+n,i.y=t.y+n,i.z=t.z+n),i}},{key:"subtract",value:function(t,n,i){return n instanceof e?(i.x=t.x-n.x,i.y=t.y-n.y,i.z=t.z-n.z):(i.x=t.x-n,i.y=t.y-n,i.z=t.z-n),i}},{key:"multiply",value:function(t,n,i){return n instanceof e?(i.x=t.x*n.x,i.y=t.y*n.y,i.z=t.z*n.z):(i.x=t.x*n,i.y=t.y*n,i.z=t.z*n),i}},{key:"divide",value:function(t,n,i){return n instanceof e?(i.x=t.x/n.x,i.y=t.y/n.y,i.z=t.z/n.z):(i.x=t.x/n,i.y=t.y/n,i.z=t.z/n),i}},{key:"cross",value:function(e,t,n){return n.x=e.y*t.z-e.z*t.y,n.y=e.z*t.x-e.x*t.z,n.z=e.x*t.y-e.y*t.x,n}},{key:"unit",value:function(e,t,n){var i=e.length();return t.x=e.x/i,t.y=e.y/i,t.z=e.z/i,t}},{key:"fromAngles",value:function(t,n){return new e(Math.cos(t)*Math.cos(n),Math.sin(n),Math.sin(t)*Math.cos(n))}},{key:"randomDirection",value:function(){return e.fromAngles(Math.random()*Math.PI*2,Math.asin(2*Math.random()-1))}},{key:"min",value:function(t,n,i){return new e(Math.min(t.x,n.x),Math.min(t.y,n.y),Math.min(t.z,n.z))}},{key:"max",value:function(t,n,i){return new e(Math.max(t.x,n.x),Math.max(t.y,n.y),Math.max(t.z,n.z))}},{key:"lerp",value:function(e,t,n){return t.subtract(e).multiply(n).add(e)}},{key:"fromArray",value:function(t){return new e(t[0],t[1],t[2])}},{key:"angleBetween",value:function(e,t,n){return e.angleTo(t)}},{key:"infinity",value:function(){return new e(1/0,1/0,1/0)}}]),e}(),v=function(){function e(t,n,i){Object(d.a)(this,e),this.x=t,this.y=n,this.z=i}return Object(f.a)(e,[{key:"toVec",value:function(){return m.fromArray(y(this))}}]),e}();function y(e){return[e.x,e.y,e.z]}!function(e){e.A="\u03b1",e.B="\u03b2",e.G="\u03b3",e.D="\u03b4",e.E="\u03b5",e.Z="\u03b6",e.H="\u03b7"}(i||(i={}));var x,b,p,j,O=function(){function e(){Object(d.a)(this,e),this.center=void 0,this.interactions=void 0,this.atoms=void 0,this.v=void 0,this.o=void 0,this.hash=void 0,this.name=void 0,this.sequenceNumber=void 0,this.polymerChainIdentifier=void 0,this.atoms=[],this.name="",this.sequenceNumber=-1,this.center=new v(-1,-1,-1),this.hash="",this.interactions=[],this.polymerChainIdentifier="",this.v=m.infinity(),this.o=m.infinity()}return Object(f.a)(e,[{key:"findAtomsByNames",value:function(e){var t=[];return this.atoms.forEach((function(n){-1!==e.indexOf(n.name)&&t.push(n)})),t.sort((function(t,n){return e.indexOf(t.name)-e.indexOf(n.name)})),t}}]),e}();!function(e){e.DA="DA",e.DG="DG",e.DC="DC",e.DT="DT"}(x||(x={})),function(e){e[e.A=0]="A",e[e.C=1]="C",e[e.G=2]="G",e[e.I=3]="I",e[e.U=4]="U"}(b||(b={})),function(e){e[e.Ala=0]="Ala",e[e.Arg=1]="Arg",e[e.Asn=2]="Asn",e[e.Asp=3]="Asp",e[e.Cys=4]="Cys",e[e.Glu=5]="Glu",e[e.Gln=6]="Gln",e[e.Gly=7]="Gly",e[e.His=8]="His",e[e.Ile=9]="Ile",e[e.Leu=10]="Leu",e[e.Lys=11]="Lys",e[e.Met=12]="Met",e[e.Phe=13]="Phe",e[e.Pro=14]="Pro",e[e.Ser=15]="Ser",e[e.Thr=16]="Thr",e[e.Trp=17]="Trp",e[e.Tyr=18]="Tyr",e[e.Val=19]="Val"}(p||(p={})),function(e){e.DNA="DNA",e.RNA="RNA",e.Protein="Protein",e.Unknown="Unknown"}(j||(j={}));var k=n(0),g={polymers:[],pdb:void 0,isLoading:!1,simpleStuffy:"",hashedNucleicAcidResidues:{},viz:{chain1:null,chain2:null},currentPDBId:""},z=Object(r.createContext)([g,function(){}]),w=function(e,t){var n=t.type,i=t.payload;if(!(n in e))throw new Error("".concat(n," not found in state"));return e[n]=i,Object(s.a)({},e)},N=function(e){var t=e.children,n=Object(r.useReducer)(w,g),i=Object(l.a)(n,2),a=i[0],o=i[1];return Object(k.jsx)(z.Provider,{value:[a,o],children:t})};function A(e){return e.residues.forEach((function(t,n){var i=new v(0,0,0);t.atoms.forEach((function(e){i.x+=e.coords.x,i.y+=e.coords.y,i.z+=e.coords.z})),i.x=i.x/t.atoms.length,i.y=i.y/t.atoms.length,i.z=i.z/t.atoms.length,e.residues[n].center=i})),e}function D(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2))}var C;!function(e){e[e.Threshold=0]="Threshold",e[e.HBond=1]="HBond"}(C||(C={}));var M,E=function(){function e(t){Object(d.a)(this,e),this.polymers=t,this.nucleicAcids=[],this.proteins=[],this.visualization={chain1:null,chain2:null},this.prepareObjects()}return Object(f.a)(e,[{key:"watsonCrickPairs",value:function(){if(this.nucleicAcids.length<=0)throw Error("Nucleic acids are not initialized");if(!(this.nucleicAcids.length>=2&&this.nucleicAcids[0].kind===j.DNA))throw Error("Nucleic acids are not initialized");var e=this.nucleicAcids[0],t=this.nucleicAcids[1],n=this.calculateWatsonCrickPairs(e,t),i=this.calculateWatsonCrickPairs(t,e);i.reverse();var r=n;return i.forEach((function(e){if(1===e.length)r.push(e);else if(2===e.length){for(var t=!1,i=0;i<n.length;i++){var a=n[i];if(2===a.length&&a[0].hash===e[1].hash&&a[1].hash===e[0].hash){t=!0;break}}t||console.log("watsonCrickPairs: matching pair was not found ".concat(e[1].polymerChainIdentifier,":").concat(e[1].sequenceNumber).concat(e[1].name,"---").concat(e[0].polymerChainIdentifier,":").concat(e[0].sequenceNumber).concat(e[0].name),e)}})),r}},{key:"calculateWatsonCrickPairs",value:function(e,t){var n=[];return e.residues.forEach((function(e){var i,r=1/0;if(t.residues.forEach((function(t){var n=e.findAtomsByNames(["C2","C4","C6"]),a=[Math.abs(n[0].coords.toVec().subtract(t.o).dot(t.v)),Math.abs(n[1].coords.toVec().subtract(t.o).dot(t.v)),Math.abs(n[2].coords.toVec().subtract(t.o).dot(t.v))],o=t.findAtomsByNames(["C2","C4","C6"]),c=[Math.abs(o[0].coords.toVec().subtract(e.o).dot(e.v)),Math.abs(o[1].coords.toVec().subtract(e.o).dot(e.v)),Math.abs(o[2].coords.toVec().subtract(e.o).dot(e.v))],s=Math.max.apply(Math,c.concat(a));s<r&&(r=s,i=t)})),void 0!==i&&r<=1.42+Math.random()&&function(e,t){return e.name===x[x.DA]&&t.name===x[x.DT]||e.name===x[x.DT]&&t.name===x[x.DA]||e.name===x[x.DC]&&t.name===x[x.DG]||e.name===x[x.DG]&&t.name===x[x.DC]}(i,e)){n.push([e,i]);var a=i;console.log("Smallest distance: ",r,"".concat(e.polymerChainIdentifier,":").concat(e.sequenceNumber).concat(e.name),"".concat(a.polymerChainIdentifier,":").concat(a.sequenceNumber).concat(a.name))}else n.push([e]),console.log("No pair for: ".concat(e.polymerChainIdentifier,":").concat(e.sequenceNumber).concat(e.name,", smallest distance: ").concat(r))})),n}},{key:"prepareObjects",value:function(){this.nucleicAcids=this.findNucleicAcids(),this.proteins=this.findProteins(),this.nucleicAcids.forEach((function(e){return A(e)})),this.proteins.forEach((function(e){return A(e)}))}},{key:"findProteins",value:function(){return this.polymers.filter((function(e){return-1!==[j.Protein].indexOf(e.kind)}))}},{key:"findNucleicAcids",value:function(){return this.polymers.filter((function(e){return-1!==[j.DNA,j.RNA].indexOf(e.kind)}))}},{key:"thresholdInteractions",value:function(){var e=this;this.nucleicAcids.forEach((function(t,n){t.residues.forEach((function(t,i){e.proteins.forEach((function(r){r.residues.forEach((function(a){D(t.center,a.center)<=10&&t.atoms.forEach((function(t){a.atoms.forEach((function(o){var c,s=D(t.coords,o.coords);s<=5&&e.nucleicAcids[n].residues[i].interactions.push({residue:(c=a,{sequenceNumber:c.sequenceNumber,hash:c.hash,name:c.name,polymerChainIdentifier:c.polymerChainIdentifier}),type:C.Threshold,polymerKind:r.kind,meta:{distance:s}})}))}))}))}))}))}))}}]),e}(),P=n(4);!function(e){e.Pair="pair",e.Backbone="backbone"}(M||(M={}));var T,I,R=10,B=4;var S=(T={},Object(h.a)(T,x.DA,"#fcb331"),Object(h.a)(T,x.DT,"#5670fb"),Object(h.a)(T,x.DG,"#f63c37"),Object(h.a)(T,x.DC,"#03c907"),T),q="blue",G=(I={},Object(h.a)(I,x.DA,"red"),Object(h.a)(I,x.DT,"red"),Object(h.a)(I,x.DG,q),Object(h.a)(I,x.DC,q),I);function L(){var e=Object(r.useContext)(z),t=Object(l.a)(e,2),n=t[0],i=(t[1],n.polymers),o=a.a.createRef(),c=a.a.createRef(),h=Object(r.useRef)(null),d=[];return i.filter((function(e){return-1!==[j.DNA,j.RNA].indexOf(e.kind)})).map((function(e){e.residues.map((function(e){return d.push.apply(d,Object(u.a)(e.atoms))}))})),Object(r.useEffect)((function(){if(o&&!(i.length<=0)){console.time("DNA_VIZ");var e=new E(i),t=e.watsonCrickPairs(),n=e.nucleicAcids,r=[],a=[],c=n[0],u=n[1],l=function(e){return"".concat(e.polymerChainIdentifier,":").concat(e.name).concat(e.sequenceNumber)},d=function(e){e.residues.forEach((function(t,n){r.push(Object(s.a)(Object(s.a)({},t),{},{hash:t.hash,name:t.name.toString().slice(-1),id:l(t),color:S[t.name],group:f.indexOf(t.name)+1}));var i=e.residues;n>0&&n<i.length&&a.push({source:l(i[n-1]),target:l(t),value:1,color:"#494949",linkType:M.Backbone})}))},f=Object.values(x);d(c),d(u),t.forEach((function(e){var t=e[0];if(2===e.length){var n=e[1];a.push({source:l(n),target:l(t),value:1,color:G[t.name],linkType:M.Pair})}})),console.log("Vizualization data:",r,a);var m=[h.current.offsetWidth,h.current.offsetHeight],v=m[0],y=m[1];!function(e,t){var n=e.nodes,i=e.links,r=e.svgRef,a=t.nodeId,o=void 0===a?function(e){return e.id}:a,c=(t.nodeGroups,t.nodeTitle),s=t.nodeFill,u=void 0===s?function(e){return void 0!==e.color?e.color:"currentColor"}:s,l=t.nodeStroke,h=void 0===l?"#fff":l,d=t.nodeStrokeWidth,f=void 0===d?1.5:d,m=t.nodeStrokeOpacity,v=void 0===m?1:m,y=t.nodeRadius,x=void 0===y?10:y,b=t.nodeStrength,p=t.linkStroke,j=void 0===p?function(e){return void 0!==e.color?e.color:"#444"}:p,O=t.linkStrokeOpacity,k=void 0===O?.6:O,g=t.linkStrokeWidth,z=void 0===g?2:g,w=t.linkStrokeLinecap,N=void 0===w?"round":w,A=t.linkStrength,D=(void 0===t.colors&&P.g,t.width),C=void 0===D?640:D,M=t.height,E=void 0===M?400:M,T=t.invalidation,I=n,S=i,q=P.f(n,o).map((function(e){return null!==e&&"object"===typeof e?e.valueOf():e}));console.log(n,q),void 0===c&&(c=function(e,t){return q[t]});var G=null==c?null:P.f(n,c),L="function"!==typeof z?null:P.f(i,z);n=I,i=S;var V=P.d(),_=P.c(i).id((function(e){var t=e.index;return q[t]}));void 0!==b&&V.strength(b),void 0!==A&&_.strength(A);var F=P.e(n).force("link",_).force("charge",V).force("center",P.b()).on("tick",(function(){U.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),Z.attr("transform",(function(e){return"translate(".concat(e.x,", ").concat(e.y,")")}))})),H=P.h(r).attr("width",C).attr("height",E).attr("viewBox",[-C/2,-E/2,C,E]).attr("style","max-width: 100%; height: auto; height: intrinsic;");H.html("");var W=H.append("g"),U=W.append("g").attr("stroke-opacity",k).attr("stroke-width","function"!==typeof z?z:null).attr("stroke-linecap",N).selectAll("line").data(i).join("line").attr("stroke-dasharray",(function(e){return"pair"===e.linkType?"4":null})).attr("stroke",j),Z=W.append("g").selectAll("circle").data(n).join("g").call(function(e){return P.a().on("start",(function(t){t.active||e.alphaTarget(.3).restart(),t.subject.fx=t.subject.x,t.subject.fy=t.subject.y})).on("drag",(function(e){e.subject.fx=e.x,e.subject.fy=e.y})).on("end",(function(t){t.active||e.alphaTarget(0),t.subject.fx=null,t.subject.fy=null}))}(F)),J=Z.append("circle").attr("stroke",h).attr("stroke-opacity",v).attr("stroke-width",f).attr("fill",u).attr("r",x);J.on("mouseover",(function(e,t){console.log("Mouseover",e,t)}));var K=Z.append("text").text((function(e){return e.name})).attr("text-anchor","middle").attr("font-size",R).attr("y",B).attr("class","svg-graph-text");L&&U.attr("stroke-width",(function(e){return L[e.index]})),G&&J.append("title").text((function(e){return G[e.index]})),null!=T&&T.then((function(){return F.stop()}));var Y=void 0,Q=P.i().on("zoom",(function(e){if(W.attr("transform",Y=e.transform),Y){var t=Math.sqrt(Y.k);W.style("stroke-width",3/t),J.attr("r",x/t).attr("stroke-width",f/t),K.attr("font-size",R/t).attr("y",B/t)}}));H.call(Q).call(Q.transform,P.j),Object.assign(H.node(),{scales:{color:null}})}({nodes:r,links:a,svgRef:o.current},{width:v,height:y}),console.timeEnd("DNA_VIZ")}}),[i]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{children:n.simpleStuffy}),Object(k.jsxs)("div",{className:"p-5 flex items-center flex-col h-full",ref:h,children:[Object(k.jsx)("div",{className:"min-w-full h-full",children:Object(k.jsx)("svg",{ref:o})}),Object(k.jsx)("div",{ref:c,style:{position:"absolute",opacity:0,background:"#fff"}})]})]})}var V=n(3),_=n.n(V),F=n(12),H=n(57),W=n.n(H),U=function(){function e(t){Object(d.a)(this,e),this.file=void 0,void 0!==t&&(this.file=t)}return Object(f.a)(e,[{key:"readData",value:function(){var e=Object(F.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!=this.file){e.next=2;break}throw Error("file not provided");case 2:return e.next=4,this.file.text();case 4:return t=e.sent,e.abrupt("return",this.format(t));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"format",value:function(e){return{raw:this.formatText(e),polymers:this.formatPolymers(e)}}},{key:"formatText",value:function(e){return e.split("\n").map((function(e,t){return t.toString()+". "+e})).join("\n")}},{key:"formatPolymers",value:function(e){var t=[],n=function(){return{chainIdentifier:"",residues:[],kind:j.Unknown}},i=function(){return new O},r=function(){o.hash=W()(o),a.residues.push(o)},a=n(),o=i(),c=function(e){var t,n=(t={},Object(h.a)(t,j.DNA,0),Object(h.a)(t,j.RNA,0),Object(h.a)(t,j.Protein,0),t);return void 0===e?n:[n,Object.keys(e).reduce((function(t,n){return e[t]>e[n]?t:n}))]},s=c();return e.split("\n").forEach((function(e){if(e.startsWith("ATOM")||e.startsWith("HETATM")){var u=parseFloat(e.slice(30,38).trim()),h=parseFloat(e.slice(38,46).trim()),d=parseFloat(e.slice(46,54).trim()),f=e.slice(12,16).trim(),p=e.slice(17,20).trim(),O=e.slice(76,78).trim(),k=parseInt(e.slice(22,26).trim()),g=e.slice(21,22);a.chainIdentifier=g;var z={coords:new v(u,h,d),name:f,element:O,residueName:p,residueSequenceNumber:k};s[function(e){switch(!0){case e.residueName in x:return j.DNA;case e.residueName in b:return j.RNA;default:return j.Protein}}(z)]++,-1===o.sequenceNumber&&(o.name=z.residueName,o.sequenceNumber=k,o.polymerChainIdentifier=g),k!==o.sequenceNumber&&(r(),(o=i()).name=z.residueName,o.sequenceNumber=k,o.polymerChainIdentifier=g),o.atoms.push(z)}if(e.startsWith("TER")){r();var w=c(s),N=Object(l.a)(w,2),A=N[0],D=N[1];s=A,a.kind=D,a=function(e){if(-1!=[j.DNA,j.RNA].indexOf(e.kind)){var t=["C2","C4","C6"];e.residues.forEach((function(e){var n=[];if(e.findAtomsByNames(t).forEach((function(e,t){n[t]=e.coords})),3===n.length){var i=m.fromArray(y(n[0])),r=m.fromArray(y(n[1])),a=m.fromArray(y(n[2])),o=r.subtract(i).cross(a.subtract(i)).normalize(),c=i.add(r).add(a).divide(3);e.v=o,e.o=c}}))}return e}(a),t.push(a),a=n(),o=i()}})),t}}]),e}(),Z=function(){var e=Object(F.a)(_.a.mark((function e(t){var n,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://files.rcsb.org/download/".concat(t,".pdb"));case 2:return n=e.sent,e.next=5,n.text();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function J(){var e=Object(r.useContext)(z),t=Object(l.a)(e,2),n=t[0],i=t[1],a=function(){i({type:"isLoading",payload:!0})},o=function(){i({type:"isLoading",payload:!1})},c=function(e){i({type:"pdb",payload:e})},s=function(e){i({type:"currentPDBId",payload:e})},u=function(e){i({type:"polymers",payload:e})},h=function(){var e=Object(F.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),e.t0=new U,e.next=4,Z(t);case 4:e.t1=e.sent,n=e.t0.format.call(e.t0,e.t1),c(n),u(n.polymers),s(t),o();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("id");console.log("ID",e),null!==e&&h(e)}),[]);var d,f,m=function(){var e=Object(F.a)(_.a.mark((function e(t){var n,i,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(i=null===(n=t.target.files)||void 0===n?void 0:n.item(0))){e.next=13;break}return a(),console.time("TIME_TO_PARSE_EVERYTHING"),console.time("TIME_TO_PARSE_PDB"),e.next=7,new U(i).readData();case 7:r=e.sent,console.timeEnd("TIME_TO_PARSE_PDB"),c(r),u(r.polymers),console.timeEnd("TIME_TO_PARSE_EVERYTHING"),setTimeout(o,2e3);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n.polymers.length>0&&(d=Object(k.jsxs)("div",{className:"mt-5",children:[Object(k.jsx)("div",{className:"mb-1",children:"Provided input file"}),Object(k.jsx)("textarea",{className:"text-sm w-full border h-96 border-blue-100",value:null===(f=n.pdb)||void 0===f?void 0:f.raw,readOnly:!0})]}));var v=Object(r.useRef)(null),y=function(){var e,t=null===(e=v.current)||void 0===e?void 0:e.value;t&&h(t)};return Object(k.jsxs)("div",{className:"p-5 max-h-screen overflow-auto break-words",children:[!n.isLoading&&Object(k.jsxs)("div",{children:[void 0===n.pdb&&Object(k.jsx)("div",{className:"text-sm text-gray-600 mb-4 bg-red-200 p-2",children:"Choose a PDB file which contains DNA/RNA with Proteins"}),Object(k.jsxs)("div",{children:[n.currentPDBId.length>0&&Object(k.jsxs)("div",{className:"mb-4",children:["Currently selected PDB ID:",Object(k.jsx)("b",{children:n.currentPDBId.toUpperCase()})]}),Object(k.jsxs)("div",{className:"mb-4",children:[Object(k.jsxs)("div",{className:"text-normal font-bold text-gray-600 mb-2",children:["Enter PDB file ID:",Object(k.jsxs)("div",{className:"text-xs font-normal",children:["PDB file should contain ",Object(k.jsx)("b",{children:"DNA/RNA"})," structures"]})]}),Object(k.jsxs)("div",{className:"flex flex-row max-w-full",children:[Object(k.jsx)("input",{onKeyPress:function(e){"Enter"===e.key&&y()},ref:v,placeholder:"1ZS4",className:"border-r-0 outline-none ring-indigo-200 focus:ring-2 transition-all block py-1 px-2 outline-0 border border-indigo-300 rounded rounded-tr-none rounded-br-none"}),Object(k.jsx)("button",{onClick:y,className:"bg-indigo-400 border-l-0 text-white font-bold text-sm ring-indigo-200 focus:ring-2 hover:bg-indigo-600 transition-all w-[100px]  block rounded rounded-tl-none rounded-bl-none border border-indigo-300",children:"GO"})]})]}),Object(k.jsxs)("div",{className:"text-normal font-bold text-gray-600 mb-2",children:["Or choose a PDB file to display:",Object(k.jsxs)("div",{className:"text-xs font-normal",children:["PDB file should contain ",Object(k.jsx)("b",{children:"DNA/RNA"})," structures"]})]}),Object(k.jsx)("input",{type:"file",onChange:m,className:"max-w-full"})]})]}),d,n.pdb&&Object(k.jsxs)("div",{children:["Polymers from input:",n.polymers.map((function(e,t){var n=e.residues,i=e.chainIdentifier,r=e.kind;return Object(k.jsxs)("div",{className:"ml-2",children:["Chain:"," ",Object(k.jsxs)("b",{children:[i," (",r,")"]}),Object(k.jsx)("div",{className:"ml-2",children:n.map((function(e,t){return Object(k.jsxs)("span",{children:[e.name," \xa0"]},t)}))})]},t)}))]})]})}n(150);var K=function(){return Object(k.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[Object(k.jsx)("div",{className:"text-white font-bold",children:"Loading"}),Object(k.jsxs)("div",{className:"lds-roller",children:[Object(k.jsx)("div",{}),Object(k.jsx)("div",{}),Object(k.jsx)("div",{}),Object(k.jsx)("div",{}),Object(k.jsx)("div",{}),Object(k.jsx)("div",{}),Object(k.jsx)("div",{}),Object(k.jsx)("div",{})]})]})};function Y(){var e=Object(r.useContext)(z)[0];return Object(k.jsxs)("div",{className:"w-full flex flex-row",children:[!0===e.isLoading&&Object(k.jsx)("div",{className:"fixed w-screen min-h-screen top-0 left-0 flex items-center justify-center z-50  h-full",style:{backgroundColor:"rgba(0,0,0,0.75)"},children:Object(k.jsx)(K,{})}),Object(k.jsx)("div",{className:"z-10 w-9/12 bg-indigo-200 min-h-full h-screen",children:Object(k.jsx)(L,{})}),Object(k.jsx)("div",{className:"z-10 w-3/12",children:Object(k.jsx)(J,{})})]})}function Q(e){var t=e.children;return Object(k.jsx)(N,{children:t})}var X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,152)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),r(e),a(e),o(e)}))};c.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(Q,{children:Object(k.jsx)(Y,{})})}),document.getElementById("root")),X()}},[[151,1,2]]]);
//# sourceMappingURL=main.6a1e9654.chunk.js.map